function sucomInitAdminMedia(e,a){e?e+=" table.sucom-settings":e="table.sucom-settings",jQuery(document).on("click",e+" .sucom_image_upload_button",function(e){sucomHandleImageUpload(this,e)})}function sucomHandleImageUpload(e,a){var t=jQuery(e).attr("data-pid"),i=jQuery(e).attr("id").replace(/^button_(.*)$/,"$1"),u="";i.match(/^.*_[0-9]+$/)&&(u=i.replace(/^(.*)(_[0-9]+)$/,"$2"),i=i.replace(/^(.*)(_[0-9]+)$/,"$1")),a.preventDefault(),"undefined"!=typeof sucom_image_upload_media&&sucom_image_upload_media.close(),sucom_image_upload_media=wp.media({title:sucomMediaL10n._select_image,button:{text:sucomMediaL10n._select_image},multiple:!1,library:{type:"image"}}),sucom_image_upload_media.on("open",function(){if(jQuery.isNumeric(t)&&t){var a=sucom_image_upload_media.state().get("selection"),i=wp.media.attachment(t);a.add(i?[i]:[])}jQuery(".media-modal",e.el).find("#media-search-input").focus()}),sucom_image_upload_media.on("select",function(){var e=sucom_image_upload_media.state().get("selection").first().toJSON();jQuery("#text_"+i+"_id"+u).val(e.id).change(),jQuery("#select_"+i+"_id_pre"+u).val("wp").change(),jQuery("#text_"+i+"_url"+u).val("").change(),jQuery("#text_"+i+"_url"+u).prop("disabled","disabled")}),sucom_image_upload_media.open()}jQuery(document).ready(function(){sucomInitAdminMedia()});